<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Settings - iOS Style</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Settings">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Onsen UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.css">
    
    <!-- Custom iOS Enhancement CSS -->
    <link rel="stylesheet" href="ios-enhance.css">
    <link rel="stylesheet" href="ios-settings-enhanced.css">
    
    <style>
        /* iOS Settings Style Enhancements */
        :root {
            --ios-gray-1: #f2f2f7;
            --ios-gray-2: #e5e5ea;
            --ios-gray-3: #c7c7cc;
            --ios-gray-4: #d1d1d6;
            --ios-blue: #007AFF;
            --ios-green: #34c759;
            --ios-red: #ff3b30;
            --ios-orange: #ff9500;
            --ios-tint: #007AFF;
        }
        
        body {
            background-color: var(--ios-gray-1) !important;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif !important;
        }
        
        .page__background {
            background-color: var(--ios-gray-1) !important;
        }
        
        /* Custom iOS-style toolbar */
        .toolbar {
            background-color: rgba(248, 248, 248, 0.95) !important;
            backdrop-filter: blur(20px) !important;
            -webkit-backdrop-filter: blur(20px) !important;
            border-bottom: 0.5px solid var(--ios-gray-3) !important;
        }
        
        .toolbar .center {
            font-weight: 600 !important;
            font-size: 17px !important;
            color: #000 !important;
        }
        
        /* iOS-style list items */
        .list-item {
            background-color: #fff !important;
            border-bottom: 0.5px solid var(--ios-gray-2) !important;
            min-height: 44px !important;
            padding: 12px 16px !important;
        }
        
        .list-item:active {
            background-color: var(--ios-gray-2) !important;
        }
        
        .list-item__center {
            font-size: 17px !important;
            color: #000 !important;
        }
        
        .list-item__right {
            color: var(--ios-gray-3) !important;
            font-size: 15px !important;
        }
        
        .list-item__left {
            margin-right: 12px !important;
        }
        
        /* iOS-style icons */
        .settings-icon {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 500;
        }
        
        .icon-airplane { background: var(--ios-orange); }
        .icon-wifi { background: var(--ios-blue); }
        .icon-bluetooth { background: var(--ios-blue); }
        .icon-cellular { background: var(--ios-green); }
        .icon-hotspot { background: var(--ios-green); }
        .icon-vpn { background: var(--ios-blue); }
        .icon-notifications { background: var(--ios-red); }
        .icon-sounds { background: var(--ios-red); }
        .icon-focus { background: #5856d6; }
        .icon-screen { background: var(--ios-blue); }
        .icon-general { background: #8e8e93; }
        .icon-control { background: #8e8e93; }
        .icon-display { background: var(--ios-blue); }
        .icon-accessibility { background: var(--ios-blue); }
        .icon-privacy { background: var(--ios-blue); }
        
        /* iOS-style sections */
        .list {
            margin: 20px 0 !important;
            border-radius: 10px !important;
            overflow: hidden !important;
            background-color: #fff !important;
        }
        
        .list:first-child {
            margin-top: 0 !important;
        }
        
        /* iOS-style switches */
        .switch {
            transform: scale(0.8) !important;
        }
        
        .switch__input:checked + .switch__toggle {
            background-color: var(--ios-green) !important;
        }
        
        /* Profile section */
        .profile-section {
            background: linear-gradient(135deg, var(--ios-blue), #5ac8fa) !important;
            color: white !important;
            padding: 20px 16px !important;
            margin: 0 !important;
            border-radius: 0 !important;
        }
        
        .profile-section .list-item {
            background: transparent !important;
            border-bottom: none !important;
            padding: 8px 0 !important;
        }
        
        .profile-section .list-item__center {
            color: white !important;
            font-weight: 600 !important;
            font-size: 18px !important;
        }
        
        .profile-section .list-item__right {
            color: rgba(255, 255, 255, 0.7) !important;
        }
        
        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 600;
            color: white;
            margin-right: 12px;
        }
        
        /* Search bar */
        .search-container {
            padding: 8px 16px;
            background-color: var(--ios-gray-1);
        }
        
        .search-input {
            background-color: rgba(118, 118, 128, 0.12) !important;
            border: none !important;
            border-radius: 10px !important;
            padding: 8px 12px !important;
            font-size: 16px !important;
            color: #000 !important;
        }
        
        .search-input::placeholder {
            color: rgba(60, 60, 67, 0.6) !important;
        }
        
        /* Haptic feedback animation */
        @keyframes tapFeedback {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }
        
        .list-item.tap-active {
            animation: tapFeedback 0.1s ease-out;
        }
        
        /* iOS-style navigation animation */
        .page {
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }
        
        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <ons-navigator id="navigator">
        <ons-page id="main-page">
            <ons-toolbar>
                <div class="center">Settings</div>
            </ons-toolbar>
            
            <div class="page__content">
                <!-- Search Bar -->
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search" id="searchInput">
                </div>
                
                <!-- Profile Section -->
                <ons-list class="profile-section">
                    <ons-list-item tappable onclick="showProfile()">
                        <div class="left">
                            <div class="profile-avatar">JD</div>
                        </div>
                        <div class="center">
                            <div>John Doe</div>
                            <div style="font-size: 14px; font-weight: 400; margin-top: 2px; opacity: 0.8;">Apple ID, iCloud, Media & Purchases</div>
                        </div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: rgba(255,255,255,0.7);"></ons-icon>
                        </div>
                    </ons-list-item>
                </ons-list>
                
                <!-- Main Settings -->
                <ons-list>
                    <ons-list-item tappable onclick="showDetail('Airplane Mode')">
                        <div class="left">
                            <div class="settings-icon icon-airplane">
                                <ons-icon icon="fa-plane"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Airplane Mode</div>
                        <div class="right">
                            <ons-switch id="airplaneSwitch"></ons-switch>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Wi-Fi')">
                        <div class="left">
                            <div class="settings-icon icon-wifi">
                                <ons-icon icon="fa-wifi"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Wi-Fi</div>
                        <div class="right">
                            <span style="color: #8e8e93;">MyNetwork</span>
                            <ons-icon icon="fa-chevron-right" style="margin-left: 8px; color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Bluetooth')">
                        <div class="left">
                            <div class="settings-icon icon-bluetooth">
                                <ons-icon icon="fa-bluetooth"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Bluetooth</div>
                        <div class="right">
                            <span style="color: #8e8e93;">On</span>
                            <ons-icon icon="fa-chevron-right" style="margin-left: 8px; color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Cellular')">
                        <div class="left">
                            <div class="settings-icon icon-cellular">
                                <ons-icon icon="fa-signal"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Cellular</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Personal Hotspot')">
                        <div class="left">
                            <div class="settings-icon icon-hotspot">
                                <ons-icon icon="fa-link"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Personal Hotspot</div>
                        <div class="right">
                            <span style="color: #8e8e93;">Off</span>
                            <ons-icon icon="fa-chevron-right" style="margin-left: 8px; color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('VPN')">
                        <div class="left">
                            <div class="settings-icon icon-vpn">
                                <ons-icon icon="fa-shield"></ons-icon>
                            </div>
                        </div>
                        <div class="center">VPN</div>
                        <div class="right">
                            <span style="color: #8e8e93;">Not Connected</span>
                            <ons-icon icon="fa-chevron-right" style="margin-left: 8px; color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                </ons-list>
                
                <!-- Notifications & Sounds -->
                <ons-list>
                    <ons-list-item tappable onclick="showDetail('Notifications')">
                        <div class="left">
                            <div class="settings-icon icon-notifications">
                                <ons-icon icon="fa-bell"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Notifications</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Sounds & Haptics')">
                        <div class="left">
                            <div class="settings-icon icon-sounds">
                                <ons-icon icon="fa-volume-up"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Sounds & Haptics</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Focus')">
                        <div class="left">
                            <div class="settings-icon icon-focus">
                                <ons-icon icon="fa-moon"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Focus</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Screen Time')">
                        <div class="left">
                            <div class="settings-icon icon-screen">
                                <ons-icon icon="fa-clock"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Screen Time</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                </ons-list>
                
                <!-- General Settings -->
                <ons-list>
                    <ons-list-item tappable onclick="showDetail('General')">
                        <div class="left">
                            <div class="settings-icon icon-general">
                                <ons-icon icon="fa-cog"></ons-icon>
                            </div>
                        </div>
                        <div class="center">General</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Control Center')">
                        <div class="left">
                            <div class="settings-icon icon-control">
                                <ons-icon icon="fa-th-large"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Control Center</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Display & Brightness')">
                        <div class="left">
                            <div class="settings-icon icon-display">
                                <ons-icon icon="fa-sun"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Display & Brightness</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Accessibility')">
                        <div class="left">
                            <div class="settings-icon icon-accessibility">
                                <ons-icon icon="fa-universal-access"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Accessibility</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                    
                    <ons-list-item tappable onclick="showDetail('Privacy & Security')">
                        <div class="left">
                            <div class="settings-icon icon-privacy">
                                <ons-icon icon="fa-lock"></ons-icon>
                            </div>
                        </div>
                        <div class="center">Privacy & Security</div>
                        <div class="right">
                            <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                        </div>
                    </ons-list-item>
                </ons-list>
                
                <div style="height: 50px;"></div>
            </div>
        </ons-page>
    </ons-navigator>
    
    <!-- Onsen UI JavaScript -->
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
    
    <!-- FontAwesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    
    <!-- Main App Logic -->
    <script src="app.js"></script>
    
    <script>
        // Initialize the app
        document.addEventListener('init', function(event) {
            var page = event.target;
            
            if (page.id === 'main-page') {
                // Add search functionality
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', function(e) {
                        filterSettings(e.target.value);
                    });
                }
                
                // Add haptic feedback to list items
                const listItems = document.querySelectorAll('ons-list-item[tappable]');
                listItems.forEach(item => {
                    item.addEventListener('touchstart', function() {
                        this.classList.add('tap-active');
                        // Simulate haptic feedback
                        if (navigator.vibrate) {
                            navigator.vibrate(10);
                        }
                    });
                    
                    item.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.classList.remove('tap-active');
                        }, 100);
                    });
                });
                
                // Airplane mode switch functionality
                const airplaneSwitch = document.getElementById('airplaneSwitch');
                if (airplaneSwitch) {
                    airplaneSwitch.addEventListener('change', function() {
                        if (navigator.vibrate) {
                            navigator.vibrate(15);
                        }
                        
                        if (this.checked) {
                            ons.notification.toast('Airplane Mode enabled', { timeout: 2000 });
                        } else {
                            ons.notification.toast('Airplane Mode disabled', { timeout: 2000 });
                        }
                    });
                }
            }
        });
        
        // Filter settings based on search
        function filterSettings(query) {
            const lists = document.querySelectorAll('ons-list:not(.profile-section)');
            const searchQuery = query.toLowerCase();
            
            lists.forEach(list => {
                const items = list.querySelectorAll('ons-list-item');
                let hasVisibleItems = false;
                
                items.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    if (text.includes(searchQuery)) {
                        item.style.display = '';
                        hasVisibleItems = true;
                    } else {
                        item.style.display = 'none';
                    }
                });
                
                list.style.display = hasVisibleItems ? '' : 'none';
            });
        }
        
        // Show detail page
        function showDetail(title) {
            const detailPage = createDetailPage(title);
            document.getElementById('navigator').pushPage(detailPage, {
                animation: 'slide-ios'
            });
        }
        
        // Show profile page
        function showProfile() {
            const profilePage = createProfilePage();
            document.getElementById('navigator').pushPage(profilePage, {
                animation: 'slide-ios'
            });
        }
        
        // Create detail page
        function createDetailPage(title) {
            const page = document.createElement('ons-page');
            page.innerHTML = `
                <ons-toolbar>
                    <div class="left">
                        <ons-back-button>Settings</ons-back-button>
                    </div>
                    <div class="center">${title}</div>
                </ons-toolbar>
                
                <div class="page__content">
                    <div style="padding: 20px; text-align: center; margin-top: 50px;">
                        <div style="font-size: 48px; margin-bottom: 20px; opacity: 0.3;">
                            <ons-icon icon="fa-cog"></ons-icon>
                        </div>
                        <h2 style="color: #8e8e93; font-weight: 400; margin: 0;">${title}</h2>
                        <p style="color: #8e8e93; margin-top: 10px;">
                            This is a demo of the ${title} settings page. 
                            In a real app, this would contain the actual settings options.
                        </p>
                        
                        <div style="margin-top: 40px;">
                            <ons-list>
                                <ons-list-item>
                                    <div class="center">Enable ${title}</div>
                                    <div class="right">
                                        <ons-switch></ons-switch>
                                    </div>
                                </ons-list-item>
                                
                                <ons-list-item>
                                    <div class="center">Auto ${title}</div>
                                    <div class="right">
                                        <ons-switch checked></ons-switch>
                                    </div>
                                </ons-list-item>
                            </ons-list>
                        </div>
                    </div>
                </div>
            `;
            return page;
        }
        
        // Create profile page
        function createProfilePage() {
            const page = document.createElement('ons-page');
            page.innerHTML = `
                <ons-toolbar>
                    <div class="left">
                        <ons-back-button>Settings</ons-back-button>
                    </div>
                    <div class="center">Apple ID</div>
                </ons-toolbar>
                
                <div class="page__content">
                    <!-- Profile Header -->
                    <div style="text-align: center; padding: 40px 20px; background: linear-gradient(135deg, #007AFF, #5ac8fa); color: white;">
                        <div style="width: 80px; height: 80px; border-radius: 40px; background: rgba(255,255,255,0.2); margin: 0 auto 16px; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 600;">
                            JD
                        </div>
                        <h2 style="margin: 0; font-weight: 600; font-size: 24px;">John Doe</h2>
                        <p style="margin: 8px 0 0; opacity: 0.8; font-size: 16px;">john.doe@icloud.com</p>
                    </div>
                    
                    <!-- Profile Options -->
                    <ons-list style="margin-top: 0;">
                        <ons-list-item tappable>
                            <div class="center">Sign-In & Security</div>
                            <div class="right">
                                <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                        
                        <ons-list-item tappable>
                            <div class="center">Payment & Shipping</div>
                            <div class="right">
                                <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                        
                        <ons-list-item tappable>
                            <div class="center">Subscriptions</div>
                            <div class="right">
                                <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                    </ons-list>
                    
                    <ons-list>
                        <ons-list-item tappable>
                            <div class="center">iCloud</div>
                            <div class="right">
                                <span style="color: #8e8e93;">5 GB Available</span>
                                <ons-icon icon="fa-chevron-right" style="margin-left: 8px; color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                        
                        <ons-list-item tappable>
                            <div class="center">Media & Purchases</div>
                            <div class="right">
                                <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                        
                        <ons-list-item tappable>
                            <div class="center">Find My</div>
                            <div class="right">
                                <ons-icon icon="fa-chevron-right" style="color: #c7c7cc;"></ons-icon>
                            </div>
                        </ons-list-item>
                    </ons-list>
                    
                    <ons-list>
                        <ons-list-item tappable style="color: #ff3b30;">
                            <div class="center" style="color: #ff3b30;">Sign Out</div>
                        </ons-list-item>
                    </ons-list>
                </div>
            `;
            return page;
        }
        
        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
        
        // Handle iOS viewport
        function handleiOSViewport() {
            if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                document.body.classList.add('device-ios');
                
                // Handle safe area
                const metaViewport = document.querySelector('meta[name="viewport"]');
                if (metaViewport) {
                    metaViewport.setAttribute('content', 
                        'width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover'
                    );
                }
            }
        }
        
        // Initialize iOS enhancements
        document.addEventListener('DOMContentLoaded', function() {
            handleiOSViewport();
            
            // Add platform classes
            document.body.classList.add('ons-ios');
            
            // Disable context menu on long press
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
            });
            
            // Prevent zoom on double tap
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
    </script>
</body>
</html>